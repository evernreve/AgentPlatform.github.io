import{_ as z,c as D,o as h,a as y,b as e,w as l,r as u,d as i,t as d,e as w,F as E,f as q,g as C,h as F}from"./index.DkWATejZ.js";const L={name:"ContractArchive",data(){return{filters:{tenantId:"",agentName:"",contractId:"",contractType:"",signDate:["",""]},contractData:[{contractId:"CT00120240115",contractType:"新签",contractRelation:"tenant_agent",contractAttribute:"新协议",signingSubjectA:"北京商企科技有限公司",signingSubjectB:"租户A",signingSubjectAType:"租户",signingSubjectBType:"租户",signDate:"2024-01-15",expireDate:"2025-01-14",effectiveDate:"2024-01-15",status:"active",signPerson:"张经理"},{contractId:"CT00220240220",contractType:"续签",contractRelation:"agent_merchant",contractAttribute:"补充协议",signingSubjectA:"上海商务服务有限公司",signingSubjectB:"代理商B",signingSubjectAType:"代理商",signingSubjectBType:"代理商",signDate:"2024-02-20",expireDate:"2025-02-19",effectiveDate:"2024-02-20",status:"active",signPerson:"李经理"},{contractId:"CT00320240310",contractType:"延期更换主体",contractRelation:"tenant",contractAttribute:"新协议",signingSubjectA:"上海商务服务有限公司",signingSubjectB:"租户B",signingSubjectAType:"SA",signingSubjectBType:"租户",signDate:"2024-03-10",expireDate:"2025-03-09",effectiveDate:"2024-03-10",status:"active",signPerson:"王经理"},{contractId:"CT00420240412",contractType:"其他",contractRelation:"tenant_merchant",contractAttribute:"补充协议",signingSubjectA:"广州商务咨询有限公司",signingSubjectB:"广州合作伙伴",signingSubjectAType:"商户",signingSubjectBType:"代理商",signDate:"2024-04-12",expireDate:"2025-04-11",effectiveDate:"2024-04-12",status:"active",signPerson:"赵经理"}],pagination:{currentPage:1,pageSize:10,total:4},detailDrawerVisible:!1,activeTab:"basic",selectedContract:{},contractHistory:[],contractDialogVisible:!1,contractFormTitle:"",isEdit:!1,contractForm:{contractId:"",contractType:"",contractAttribute:"",contractRelation:"",tenantId:"",tenantName:"",agentId:"",agentName:"",merchantId:"",merchantName:"",signingSubjectA:"",signingSubjectB:"",signingSubjectAType:"",signingSubjectBType:"",signDate:"",effectiveDate:"",expireDate:"",status:"",signPerson:"",contractFiles:[]},showPartyAIdField:!1,showPartyAIdentityField:!1,showPartyBIdField:!1,showPartyBIdentityField:!1,contractFormRules:{contractId:[{required:!0,message:"请输入合同编号",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],contractType:[{required:!0,message:"请选择合同类型",trigger:"change"}],contractAttribute:[{required:!0,message:"请选择合同属性",trigger:"change"}],contractRelation:[{required:!0,message:"请选择合同签约关系",trigger:"change"}],signingSubjectA:[{required:!0,message:"请输入签约主体甲方",trigger:"blur"}],signingSubjectB:[{required:!0,message:"请输入签约主体乙方",trigger:"blur"}],signingSubjectAType:[{required:!0,message:"请选择签约主体甲方身份",trigger:"change"}],signingSubjectBType:[{required:!0,message:"请选择签约主体乙方身份",trigger:"change"}]}}},methods:{handleSearch(){console.log("搜索条件:",this.filters)},handleReset(){this.filters={tenantId:"",agentName:"",contractId:"",contractType:"",signDate:["",""]}},handleExport(){this.$message.success("正在导出合同数据...")},handleAddContract(){this.isEdit=!1,this.contractFormTitle="新增合同",this.resetContractForm(),this.contractDialogVisible=!0},handleEditContract(o){this.isEdit=!0,this.contractFormTitle="编辑合同",this.fillContractForm(o),this.contractDialogVisible=!0},handleViewContract(o){this.selectedContract=o,this.loadContractHistory(o),this.activeTab="basic",this.detailDrawerVisible=!0},handleDownloadContract(o){this.$message.info(`正在下载合同: ${o.contractId}`)},handleCloseDetail(){this.detailDrawerVisible=!1,this.activeTab="basic"},handleSizeChange(o){this.pagination.pageSize=o},handleCurrentChange(o){this.pagination.currentPage=o},handleContractRelationChange(o){switch(this.showTenantFields=!1,this.showAgentFields=!1,this.showMerchantFields=!1,o){case"tenant":this.showTenantFields=!0;break;case"tenant_agent":this.showTenantFields=!0,this.showAgentFields=!0;break;case"agent_merchant":this.showAgentFields=!0,this.showMerchantFields=!0;break;case"tenant_merchant":this.showTenantFields=!0,this.showMerchantFields=!0;break;default:this.showTenantFields=!0}},resetContractForm(){this.contractForm={contractId:"",contractType:"",contractAttribute:"",contractRelation:"",tenantId:"",tenantName:"",agentId:"",agentName:"",merchantId:"",merchantName:"",signingSubjectA:"",signingSubjectB:"",signingSubjectAType:"",signingSubjectBType:"",signDate:"",effectiveDate:"",expireDate:"",status:"",signPerson:"",contractFiles:[]},this.showPartyAIdField=!1,this.showPartyAIdentityField=!1,this.showPartyBIdField=!1,this.showPartyBIdentityField=!1,this.contractRelationCascader=[],this.showTenantFields=!1,this.showAgentFields=!1,this.showMerchantFields=!1,this.contractRelationCascader=[],this.showTenantFields=!1,this.showAgentFields=!1,this.showMerchantFields=!1},fillContractForm(o){this.contractForm={...o},this.handleSigningSubjectATypeChange(o.signingSubjectAType),this.handleSigningSubjectBTypeChange(o.signingSubjectBType)},handleCloseContractForm(){this.contractDialogVisible=!1,this.resetContractForm()},handleSigningSubjectATypeChange(o){console.log("甲方身份变化:",o)},handleSigningSubjectBTypeChange(o){console.log("乙方身份变化:",o)},loadContractHistory(o){this.contractHistory=[{changeTime:"2024-01-15 10:30:00",changeType:"新增",operator:"admin",remark:"创建新合同",details:[{field:"合同编号",oldValue:"",newValue:o.contractId},{field:"合同类型",oldValue:"",newValue:o.contractType},{field:"签约主体甲方",oldValue:"",newValue:o.signingSubjectA},{field:"签约主体乙方",oldValue:"",newValue:o.signingSubjectB}]},{changeTime:"2024-02-20 14:22:00",changeType:"修改",operator:"system",remark:"更新合同属性",details:[{field:"合同属性",oldValue:"新协议",newValue:o.contractAttribute},{field:"签约主体乙方身份",oldValue:"租户",newValue:o.signingSubjectBType}]},{changeTime:"2024-03-10 09:15:00",changeType:"修改",operator:"admin",remark:"更新合同生效时间",details:[{field:"合同生效时间",oldValue:"2024-01-15",newValue:o.effectiveDate}]}]},getChangeTypeTag(o){return{新增:"success",修改:"primary",删除:"danger"}[o]||"info"},getChangeTypeLabel(o){return{新增:"新增合同",修改:"合同修改",删除:"合同删除"}[o]||o},handleSubmitContract(){this.$refs.contractFormRef.validate(o=>{if(o){if(this.isEdit){const t=this.contractData.findIndex(_=>_.contractId===this.contractForm.contractId);t!==-1&&(this.contractData[t]={...this.contractForm},this.$message.success("合同更新成功"))}else{if(this.contractData.some(_=>_.contractId===this.contractForm.contractId)){this.$message.error("合同编号已存在");return}this.contractData.push({...this.contractForm}),this.$message.success("合同新增成功")}this.handleCloseContractForm()}else return this.$message.error("请完善表单信息"),!1})},getRelationTagType(o){return{tenant:"primary",tenant_agent:"success",agent_merchant:"warning",tenant_merchant:"danger"}[o]||"info"},getRelationLabel(o){return{tenant:"租户",tenant_agent:"租户代理商",agent_merchant:"代理商商户",tenant_merchant:"租户商户"}[o]||o},getTypeTagType(o){return{新签:"primary",续签:"success",延期更换主体:"warning",其他:"info"}[o]||"info"},getAttributeTagType(o){return{新协议:"primary",补充协议:"warning"}[o]||"info"},getSubjectTypeTag(o){return{企业:"primary",租户:"success",代理商:"warning",商户:"info",SA:"danger"}[o]||"info"}}},H={class:"contract-archive"},G={class:"drawer-content"},O={class:"dialog-footer"};function J(o,t,_,X,a,r){const s=u("el-option"),T=u("el-select"),c=u("el-form-item"),m=u("el-input"),S=u("el-date-picker"),f=u("el-button"),v=u("el-form"),I=u("el-card"),g=u("el-table-column"),b=u("el-tag"),A=u("el-table"),B=u("el-pagination"),p=u("el-descriptions-item"),k=u("el-descriptions"),j=u("el-tab-pane"),R=u("el-tabs"),Y=u("el-drawer"),U=u("upload-filled"),N=u("el-icon"),M=u("el-upload"),P=u("el-dialog");return h(),D("div",H,[t[39]||(t[39]=y("div",{class:"page-header"},[y("h3",null,"合同签约档案")],-1)),e(I,{class:"filter-card"},{default:l(()=>[e(v,{inline:!0,model:a.filters,class:"filter-form"},{default:l(()=>[e(c,{label:"租户"},{default:l(()=>[e(T,{modelValue:a.filters.tenantId,"onUpdate:modelValue":t[0]||(t[0]=n=>a.filters.tenantId=n),placeholder:"请选择租户",style:{width:"150px"}},{default:l(()=>[e(s,{label:"全部租户",value:""}),e(s,{label:"租户A",value:"TNT001"}),e(s,{label:"租户B",value:"TNT002"}),e(s,{label:"租户C",value:"TNT003"})]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"代理商"},{default:l(()=>[e(m,{modelValue:a.filters.agentName,"onUpdate:modelValue":t[1]||(t[1]=n=>a.filters.agentName=n),placeholder:"请输入代理商名称",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(c,{label:"合同编号"},{default:l(()=>[e(m,{modelValue:a.filters.contractId,"onUpdate:modelValue":t[2]||(t[2]=n=>a.filters.contractId=n),placeholder:"请输入合同编号",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(c,{label:"合同类型"},{default:l(()=>[e(T,{modelValue:a.filters.contractType,"onUpdate:modelValue":t[3]||(t[3]=n=>a.filters.contractType=n),placeholder:"请选择合同类型",style:{width:"120px"}},{default:l(()=>[e(s,{label:"全部",value:""}),e(s,{label:"新签",value:"新签"}),e(s,{label:"续签",value:"续签"}),e(s,{label:"延期更换主体",value:"延期更换主体"}),e(s,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"签约日期"},{default:l(()=>[e(S,{modelValue:a.filters.signDate,"onUpdate:modelValue":t[4]||(t[4]=n=>a.filters.signDate=n),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"240px"}},null,8,["modelValue"])]),_:1}),e(c,null,{default:l(()=>[e(f,{type:"primary",onClick:r.handleAddContract},{default:l(()=>[...t[28]||(t[28]=[i("新增合同",-1)])]),_:1},8,["onClick"]),e(f,{type:"primary",onClick:r.handleSearch},{default:l(()=>[...t[29]||(t[29]=[i("查询",-1)])]),_:1},8,["onClick"]),e(f,{onClick:r.handleReset},{default:l(()=>[...t[30]||(t[30]=[i("重置",-1)])]),_:1},8,["onClick"]),e(f,{onClick:r.handleExport},{default:l(()=>[...t[31]||(t[31]=[i("导出",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),e(A,{data:a.contractData,style:{width:"100%"},stripe:"",height:"600","highlight-current-row":""},{default:l(()=>[e(g,{prop:"signingSubjectA",label:"签约主体甲方",width:"150"}),e(g,{prop:"signingSubjectAType",label:"签约主体甲方身份",width:"150"},{default:l(({row:n})=>[e(b,{type:r.getSubjectTypeTag(n.signingSubjectAType),size:"small"},{default:l(()=>[i(d(n.signingSubjectAType),1)]),_:2},1032,["type"])]),_:1}),e(g,{prop:"signingSubjectB",label:"签约主体乙方",width:"150"}),e(g,{prop:"signingSubjectBType",label:"签约主体乙方身份",width:"150"},{default:l(({row:n})=>[e(b,{type:r.getSubjectTypeTag(n.signingSubjectBType),size:"small"},{default:l(()=>[i(d(n.signingSubjectBType),1)]),_:2},1032,["type"])]),_:1}),e(g,{prop:"contractId",label:"合同编号",width:"180"}),e(g,{prop:"contractRelation",label:"合同签约关系",width:"150"},{default:l(({row:n})=>[e(b,{type:r.getRelationTagType(n.contractRelation)},{default:l(()=>[i(d(r.getRelationLabel(n.contractRelation)),1)]),_:2},1032,["type"])]),_:1}),e(g,{prop:"contractType",label:"合同类型",width:"120"},{default:l(({row:n})=>[e(b,{type:r.getTypeTagType(n.contractType)},{default:l(()=>[i(d(n.contractType),1)]),_:2},1032,["type"])]),_:1}),e(g,{prop:"contractAttribute",label:"合同属性",width:"120"},{default:l(({row:n})=>[e(b,{type:r.getAttributeTagType(n.contractAttribute)},{default:l(()=>[i(d(n.contractAttribute),1)]),_:2},1032,["type"])]),_:1}),e(g,{prop:"signDate",label:"签约起始日期",width:"150"}),e(g,{prop:"expireDate",label:"签约结束日期",width:"150"}),e(g,{prop:"effectiveDate",label:"合同生效时间",width:"150"}),e(g,{label:"操作",width:"180",fixed:"right"},{default:l(({row:n})=>[e(f,{size:"small",onClick:w(V=>r.handleEditContract(n),["stop"])},{default:l(()=>[...t[32]||(t[32]=[i("编辑",-1)])]),_:1},8,["onClick"]),e(f,{size:"small",onClick:w(V=>r.handleViewContract(n),["stop"])},{default:l(()=>[...t[33]||(t[33]=[i("查看合同",-1)])]),_:1},8,["onClick"]),e(f,{size:"small",onClick:w(V=>r.handleDownloadContract(n),["stop"])},{default:l(()=>[...t[34]||(t[34]=[i("下载",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),e(B,{class:"pagination",onSizeChange:r.handleSizeChange,onCurrentChange:r.handleCurrentChange,"current-page":a.pagination.currentPage,"page-sizes":[10,20,50,100],"page-size":a.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:a.pagination.total,style:{"margin-top":"20px","text-align":"right"}},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"]),e(Y,{modelValue:a.detailDrawerVisible,"onUpdate:modelValue":t[6]||(t[6]=n=>a.detailDrawerVisible=n),size:"60%",title:`合同详情 - ${a.selectedContract.contractId}`,direction:"rtl","before-close":r.handleCloseDetail},{default:l(()=>[y("div",G,[e(R,{modelValue:a.activeTab,"onUpdate:modelValue":t[5]||(t[5]=n=>a.activeTab=n),type:"card"},{default:l(()=>[e(j,{label:"基本信息",name:"basic"},{default:l(()=>[e(k,{column:1,border:""},{default:l(()=>[e(p,{label:"合同编号"},{default:l(()=>[i(d(a.selectedContract.contractId),1)]),_:1}),e(p,{label:"签约主体甲方"},{default:l(()=>[i(d(a.selectedContract.signingSubjectA),1)]),_:1}),e(p,{label:"签约主体乙方"},{default:l(()=>[i(d(a.selectedContract.signingSubjectB),1)]),_:1}),e(p,{label:"签约主体甲方身份"},{default:l(()=>[e(b,{type:r.getSubjectTypeTag(a.selectedContract.signingSubjectAType),size:"small"},{default:l(()=>[i(d(a.selectedContract.signingSubjectAType),1)]),_:1},8,["type"])]),_:1}),e(p,{label:"签约主体乙方身份"},{default:l(()=>[e(b,{type:r.getSubjectTypeTag(a.selectedContract.signingSubjectBType),size:"small"},{default:l(()=>[i(d(a.selectedContract.signingSubjectBType),1)]),_:1},8,["type"])]),_:1}),e(p,{label:"合同类型"},{default:l(()=>[e(b,{type:r.getTypeTagType(a.selectedContract.contractType)},{default:l(()=>[i(d(a.selectedContract.contractType),1)]),_:1},8,["type"])]),_:1}),e(p,{label:"合同属性"},{default:l(()=>[e(b,{type:r.getAttributeTagType(a.selectedContract.contractAttribute)},{default:l(()=>[i(d(a.selectedContract.contractAttribute),1)]),_:1},8,["type"])]),_:1}),e(p,{label:"合同签约关系"},{default:l(()=>[e(b,{type:r.getRelationTagType(a.selectedContract.contractRelation)},{default:l(()=>[i(d(r.getRelationLabel(a.selectedContract.contractRelation)),1)]),_:1},8,["type"])]),_:1}),e(p,{label:"签约起始日期"},{default:l(()=>[i(d(a.selectedContract.signDate),1)]),_:1}),e(p,{label:"签约结束日期"},{default:l(()=>[i(d(a.selectedContract.expireDate),1)]),_:1}),e(p,{label:"合同生效时间"},{default:l(()=>[i(d(a.selectedContract.effectiveDate),1)]),_:1}),e(p,{label:"合同状态"},{default:l(()=>[e(b,{type:a.selectedContract.status==="active"?"success":"warning"},{default:l(()=>[i(d(a.selectedContract.status==="active"?"生效中":"已过期"),1)]),_:1},8,["type"])]),_:1}),e(p,{label:"签约人"},{default:l(()=>[i(d(a.selectedContract.signPerson),1)]),_:1})]),_:1})]),_:1}),e(j,{label:"历史记录",name:"history"},{default:l(()=>[e(A,{data:a.contractHistory,style:{width:"100%"}},{default:l(()=>[e(g,{prop:"changeTime",label:"变更时间",width:"180"}),e(g,{prop:"changeType",label:"变更类型",width:"120"},{default:l(({row:n})=>[e(b,{type:r.getChangeTypeTag(n.changeType)},{default:l(()=>[i(d(r.getChangeTypeLabel(n.changeType)),1)]),_:2},1032,["type"])]),_:1}),e(g,{prop:"operator",label:"操作人",width:"120"}),e(g,{prop:"remark",label:"备注"}),e(g,{prop:"details",label:"变更详情","min-width":"300"},{default:l(({row:n})=>[(h(!0),D(E,null,q(n.details,(V,x)=>(h(),D("div",{key:x,class:"history-detail-item"},[y("div",null,[y("strong",null,d(V.field),1),i(": "+d(V.oldValue)+" → "+d(V.newValue),1)])]))),128))]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["modelValue","title","before-close"]),e(P,{title:a.contractFormTitle,modelValue:a.contractDialogVisible,"onUpdate:modelValue":t[27]||(t[27]=n=>a.contractDialogVisible=n),width:"60%","before-close":r.handleCloseContractForm},{footer:l(()=>[y("span",O,[e(f,{onClick:r.handleCloseContractForm},{default:l(()=>[...t[37]||(t[37]=[i("取消",-1)])]),_:1},8,["onClick"]),e(f,{type:"primary",onClick:r.handleSubmitContract},{default:l(()=>[...t[38]||(t[38]=[i("确定",-1)])]),_:1},8,["onClick"])])]),default:l(()=>[e(v,{model:a.contractForm,rules:a.contractFormRules,ref:"contractFormRef","label-width":"140px"},{default:l(()=>[e(c,{label:"合同编号",prop:"contractId"},{default:l(()=>[e(m,{modelValue:a.contractForm.contractId,"onUpdate:modelValue":t[7]||(t[7]=n=>a.contractForm.contractId=n),disabled:a.isEdit,placeholder:"请输入合同编号"},null,8,["modelValue","disabled"])]),_:1}),e(c,{label:"合同类型",prop:"contractType"},{default:l(()=>[e(T,{modelValue:a.contractForm.contractType,"onUpdate:modelValue":t[8]||(t[8]=n=>a.contractForm.contractType=n),placeholder:"请选择合同类型",style:{width:"100%"}},{default:l(()=>[e(s,{label:"新签",value:"新签"}),e(s,{label:"续签",value:"续签"}),e(s,{label:"延期更换主体",value:"延期更换主体"}),e(s,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"合同属性",prop:"contractAttribute"},{default:l(()=>[e(T,{modelValue:a.contractForm.contractAttribute,"onUpdate:modelValue":t[9]||(t[9]=n=>a.contractForm.contractAttribute=n),placeholder:"请选择合同属性",style:{width:"100%"}},{default:l(()=>[e(s,{label:"新协议",value:"新协议"}),e(s,{label:"补充协议",value:"补充协议"})]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"合同签约关系",prop:"contractRelation"},{default:l(()=>[e(T,{modelValue:a.contractForm.contractRelation,"onUpdate:modelValue":t[10]||(t[10]=n=>a.contractForm.contractRelation=n),placeholder:"请选择合同签约关系",onChange:r.handleContractRelationChange,style:{width:"100%"}},{default:l(()=>[e(s,{label:"租户",value:"tenant"}),e(s,{label:"租户代理商",value:"tenant_agent"}),e(s,{label:"代理商商户",value:"agent_merchant"}),e(s,{label:"租户商户",value:"tenant_merchant"})]),_:1},8,["modelValue","onChange"])]),_:1}),o.showTenantFields?(h(),C(c,{key:0,label:"租户ID",prop:"tenantId"},{default:l(()=>[e(m,{modelValue:a.contractForm.tenantId,"onUpdate:modelValue":t[11]||(t[11]=n=>a.contractForm.tenantId=n),placeholder:"请输入租户ID"},null,8,["modelValue"])]),_:1})):F("",!0),o.showTenantFields?(h(),C(c,{key:1,label:"租户名称",prop:"tenantName"},{default:l(()=>[e(m,{modelValue:a.contractForm.tenantName,"onUpdate:modelValue":t[12]||(t[12]=n=>a.contractForm.tenantName=n),placeholder:"请输入租户名称"},null,8,["modelValue"])]),_:1})):F("",!0),o.showAgentFields?(h(),C(c,{key:2,label:"代理商ID",prop:"agentId"},{default:l(()=>[e(m,{modelValue:a.contractForm.agentId,"onUpdate:modelValue":t[13]||(t[13]=n=>a.contractForm.agentId=n),placeholder:"请输入代理商ID"},null,8,["modelValue"])]),_:1})):F("",!0),o.showAgentFields?(h(),C(c,{key:3,label:"代理商名称",prop:"agentName"},{default:l(()=>[e(m,{modelValue:a.contractForm.agentName,"onUpdate:modelValue":t[14]||(t[14]=n=>a.contractForm.agentName=n),placeholder:"请输入代理商名称"},null,8,["modelValue"])]),_:1})):F("",!0),o.showMerchantFields?(h(),C(c,{key:4,label:"商户ID",prop:"merchantId"},{default:l(()=>[e(m,{modelValue:a.contractForm.merchantId,"onUpdate:modelValue":t[15]||(t[15]=n=>a.contractForm.merchantId=n),placeholder:"请输入商户ID"},null,8,["modelValue"])]),_:1})):F("",!0),o.showMerchantFields?(h(),C(c,{key:5,label:"商户名称",prop:"merchantName"},{default:l(()=>[e(m,{modelValue:a.contractForm.merchantName,"onUpdate:modelValue":t[16]||(t[16]=n=>a.contractForm.merchantName=n),placeholder:"请输入商户名称"},null,8,["modelValue"])]),_:1})):F("",!0),e(c,{label:"签约主体甲方身份",prop:"signingSubjectAType"},{default:l(()=>[e(T,{modelValue:a.contractForm.signingSubjectAType,"onUpdate:modelValue":t[17]||(t[17]=n=>a.contractForm.signingSubjectAType=n),placeholder:"请选择签约主体甲方身份",onChange:r.handleSigningSubjectATypeChange,style:{width:"100%"}},{default:l(()=>[e(s,{label:"租户",value:"租户"}),e(s,{label:"代理商",value:"代理商"}),e(s,{label:"商户",value:"商户"}),e(s,{label:"SA",value:"SA"})]),_:1},8,["modelValue","onChange"])]),_:1}),e(c,{label:"签约主体甲方",prop:"signingSubjectA"},{default:l(()=>[e(m,{modelValue:a.contractForm.signingSubjectA,"onUpdate:modelValue":t[18]||(t[18]=n=>a.contractForm.signingSubjectA=n),placeholder:"请输入签约主体甲方"},null,8,["modelValue"])]),_:1}),e(c,{label:"签约主体乙方身份",prop:"signingSubjectBType"},{default:l(()=>[e(T,{modelValue:a.contractForm.signingSubjectBType,"onUpdate:modelValue":t[19]||(t[19]=n=>a.contractForm.signingSubjectBType=n),placeholder:"请选择签约主体乙方身份",onChange:r.handleSigningSubjectBTypeChange,style:{width:"100%"}},{default:l(()=>[e(s,{label:"租户",value:"租户"}),e(s,{label:"代理商",value:"代理商"}),e(s,{label:"商户",value:"商户"}),e(s,{label:"SA",value:"SA"})]),_:1},8,["modelValue","onChange"])]),_:1}),e(c,{label:"签约主体乙方",prop:"signingSubjectB"},{default:l(()=>[e(m,{modelValue:a.contractForm.signingSubjectB,"onUpdate:modelValue":t[20]||(t[20]=n=>a.contractForm.signingSubjectB=n),placeholder:"请输入签约主体乙方"},null,8,["modelValue"])]),_:1}),e(c,{label:"签约起始日期",prop:"signDate"},{default:l(()=>[e(S,{modelValue:a.contractForm.signDate,"onUpdate:modelValue":t[21]||(t[21]=n=>a.contractForm.signDate=n),type:"date",placeholder:"选择签约日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(c,{label:"合同生效时间",prop:"effectiveDate"},{default:l(()=>[e(S,{modelValue:a.contractForm.effectiveDate,"onUpdate:modelValue":t[22]||(t[22]=n=>a.contractForm.effectiveDate=n),type:"date",placeholder:"选择生效日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(c,{label:"签约结束日期",prop:"expireDate"},{default:l(()=>[e(S,{modelValue:a.contractForm.expireDate,"onUpdate:modelValue":t[23]||(t[23]=n=>a.contractForm.expireDate=n),type:"date",placeholder:"选择结束日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(c,{label:"签约人",prop:"signPerson"},{default:l(()=>[e(m,{modelValue:a.contractForm.signPerson,"onUpdate:modelValue":t[24]||(t[24]=n=>a.contractForm.signPerson=n),placeholder:"请输入签约人"},null,8,["modelValue"])]),_:1}),e(c,{label:"合同状态",prop:"status"},{default:l(()=>[e(T,{modelValue:a.contractForm.status,"onUpdate:modelValue":t[25]||(t[25]=n=>a.contractForm.status=n),placeholder:"请选择合同状态",style:{width:"100%"}},{default:l(()=>[e(s,{label:"生效中",value:"active"}),e(s,{label:"已过期",value:"expired"})]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"合同文件",prop:"contractFiles"},{default:l(()=>[e(M,{"file-list":a.contractForm.contractFiles,"onUpdate:fileList":t[26]||(t[26]=n=>a.contractForm.contractFiles=n),class:"contract-uploader",action:"/api/upload",multiple:!0,limit:5,"on-preview":o.handlePreview,"on-remove":o.handleRemove,"before-upload":o.beforeUpload,"on-success":o.handleUploadSuccess,"on-error":o.handleUploadError,drag:""},{tip:l(()=>[...t[35]||(t[35]=[y("div",{class:"el-upload__tip"}," 支持上传PDF、DOC、DOCX、JPG、PNG等格式文件，单个文件不超过10MB，最多可上传5个文件 ",-1)])]),default:l(()=>[e(N,{class:"el-icon--upload"},{default:l(()=>[e(U)]),_:1}),t[36]||(t[36]=y("div",{class:"el-upload__text"},[i(" 将文件拖到此处，或"),y("em",null,"点击上传")],-1))]),_:1},8,["file-list","on-preview","on-remove","before-upload","on-success","on-error"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue","before-close"])])}const Q=z(L,[["render",J],["__scopeId","data-v-9b6bc26c"]]);export{Q as default};
