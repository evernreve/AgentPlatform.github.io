import{_ as D,c as N,o as k,a as f,b as e,w as l,r,d as n,e as v,t as d}from"./index.CULuYW0h.js";const x={name:"ChangeDetail",data(){return{initialBatchId:"",filters:{batchId:"",tenantId:"",fromAgent:"",toAgent:"",merchantName:"",changeDate:["",""]},changeData:[{tenantId:"TNT001",tenantName:"租户A",batchId:"BATCH001",changeTime:"2024-01-15 10:30:25",effectiveTime:"2024-01-15 12:00:00",merchantId:"MCH001",merchantName:"北京商贸有限公司",fromAgent:"北京代理商有限公司",toAgent:"上海拓展服务商",operator:"admin",reason:"商户申请更换代理商",remark:"商户希望获得更好的本地服务支持"},{tenantId:"TNT002",tenantName:"租户B",batchId:"BATCH002",changeTime:"2024-01-16 14:22:10",effectiveTime:"2024-01-16 16:00:00",merchantId:"MCH003",merchantName:"广州电商企业",fromAgent:"广州合作伙伴",toAgent:"北京代理商有限公司",operator:"admin",reason:"代理商协议调整",remark:"因代理商绩效考核结果调整"},{tenantId:"TNT003",tenantName:"租户C",batchId:"BATCH003",changeTime:"2024-01-17 09:15:45",effectiveTime:"2024-01-17 10:00:00",merchantId:"MCH005",merchantName:"深圳科技公司",fromAgent:"上海拓展服务商",toAgent:"广州合作伙伴",operator:"manager",reason:"区域业务调整",remark:"根据区域市场策略调整代理商分配"},{tenantId:"TNT001",tenantName:"租户A",batchId:"BATCH004",changeTime:"2024-01-18 16:40:30",effectiveTime:"2024-01-18 18:00:00",merchantId:"MCH007",merchantName:"杭州制造企业",fromAgent:"无",toAgent:"北京代理商有限公司",operator:"admin",reason:"新商户入驻",remark:"新注册商户首次分配代理商"}],pagination:{currentPage:1,pageSize:10,total:4},detailDrawerVisible:!1,selectedChange:{}}},created(){this.initialBatchId=this.$route.query.batchId||"",this.filters.batchId=this.initialBatchId},methods:{goToChangeRecord(){this.$router.push("/main/monitor/change-records")},handleSearch(){console.log("搜索条件:",this.filters)},handleReset(){this.filters={batchId:this.initialBatchId,tenantId:"",fromAgent:"",toAgent:"",merchantName:"",changeDate:["",""]}},handleExport(){this.$message.success("正在导出变更明细...")},handleRowClick(c){this.selectedChange=c,this.detailDrawerVisible=!0},handleViewDetail(c){this.selectedChange=c,this.detailDrawerVisible=!0},handleCloseDetail(){this.detailDrawerVisible=!1},handleSizeChange(c){this.pagination.pageSize=c},handleCurrentChange(c){this.pagination.currentPage=c}}},y={class:"change-detail"},B={class:"page-header"},z={class:"drawer-content"};function S(c,a,M,H,t,m){const p=r("el-button"),g=r("el-input"),h=r("el-form-item"),u=r("el-option"),_=r("el-select"),b=r("el-date-picker"),C=r("el-form"),I=r("el-card"),s=r("el-table-column"),w=r("el-table"),T=r("el-pagination"),i=r("el-descriptions-item"),V=r("el-descriptions"),A=r("el-drawer");return k(),N("div",y,[f("div",B,[a[8]||(a[8]=f("h3",null,"关系变更明细",-1)),e(p,{type:"primary",onClick:m.goToChangeRecord},{default:l(()=>[...a[7]||(a[7]=[n("关系变更记录",-1)])]),_:1},8,["onClick"])]),e(I,{class:"filter-card"},{default:l(()=>[e(C,{inline:!0,model:t.filters,class:"filter-form"},{default:l(()=>[e(h,{label:"划转批次号"},{default:l(()=>[e(g,{modelValue:t.filters.batchId,"onUpdate:modelValue":a[0]||(a[0]=o=>t.filters.batchId=o),placeholder:"请输入划转批次号",style:{width:"150px"},value:t.initialBatchId},null,8,["modelValue","value"])]),_:1}),e(h,{label:"租户"},{default:l(()=>[e(_,{modelValue:t.filters.tenantId,"onUpdate:modelValue":a[1]||(a[1]=o=>t.filters.tenantId=o),placeholder:"请选择租户",style:{width:"150px"}},{default:l(()=>[e(u,{label:"全部租户",value:""}),e(u,{label:"租户A",value:"TNT001"}),e(u,{label:"租户B",value:"TNT002"}),e(u,{label:"租户C",value:"TNT003"})]),_:1},8,["modelValue"])]),_:1}),e(h,{label:"原代理商"},{default:l(()=>[e(g,{modelValue:t.filters.fromAgent,"onUpdate:modelValue":a[2]||(a[2]=o=>t.filters.fromAgent=o),placeholder:"请输入原代理商名称",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(h,{label:"新代理商"},{default:l(()=>[e(g,{modelValue:t.filters.toAgent,"onUpdate:modelValue":a[3]||(a[3]=o=>t.filters.toAgent=o),placeholder:"请输入新代理商名称",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(h,{label:"商户"},{default:l(()=>[e(g,{modelValue:t.filters.merchantName,"onUpdate:modelValue":a[4]||(a[4]=o=>t.filters.merchantName=o),placeholder:"请输入商户名称",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(h,{label:"划转时间"},{default:l(()=>[e(b,{modelValue:t.filters.changeDate,"onUpdate:modelValue":a[5]||(a[5]=o=>t.filters.changeDate=o),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"240px"}},null,8,["modelValue"])]),_:1}),e(h,null,{default:l(()=>[e(p,{type:"primary",onClick:m.handleSearch},{default:l(()=>[...a[9]||(a[9]=[n("查询",-1)])]),_:1},8,["onClick"]),e(p,{onClick:m.handleReset},{default:l(()=>[...a[10]||(a[10]=[n("重置",-1)])]),_:1},8,["onClick"]),e(p,{onClick:m.handleExport},{default:l(()=>[...a[11]||(a[11]=[n("导出",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),e(w,{data:t.changeData,style:{width:"100%"},stripe:"",height:"600",onRowClick:m.handleRowClick,"highlight-current-row":""},{default:l(()=>[e(s,{prop:"tenantId",label:"租户ID",width:"120"}),e(s,{prop:"tenantName",label:"租户名称",width:"120"}),e(s,{prop:"batchId",label:"划转批次号",width:"180"}),e(s,{prop:"changeTime",label:"划转时间",width:"150"}),e(s,{prop:"effectiveTime",label:"划转生效时间",width:"150"}),e(s,{prop:"merchantId",label:"商户ID",width:"150"}),e(s,{prop:"merchantName",label:"商户名称",width:"180"}),e(s,{prop:"fromAgent",label:"原代理商",width:"180"}),e(s,{prop:"toAgent",label:"新代理商",width:"180"}),e(s,{prop:"remark",label:"备注",width:"200"}),e(s,{label:"操作",width:"150",fixed:"right"},{default:l(({row:o})=>[e(p,{size:"small",onClick:v(R=>m.handleViewDetail(o),["stop"])},{default:l(()=>[...a[12]||(a[12]=[n("查看详情",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data","onRowClick"]),e(T,{class:"pagination",onSizeChange:m.handleSizeChange,onCurrentChange:m.handleCurrentChange,"current-page":t.pagination.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.total,style:{"margin-top":"20px","text-align":"right"}},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"]),e(A,{modelValue:t.detailDrawerVisible,"onUpdate:modelValue":a[6]||(a[6]=o=>t.detailDrawerVisible=o),size:"50%",title:`划转详情 - ${t.selectedChange.batchId}`,direction:"rtl","before-close":m.handleCloseDetail},{default:l(()=>[f("div",z,[e(V,{column:1,border:""},{default:l(()=>[e(i,{label:"划转批次号"},{default:l(()=>[n(d(t.selectedChange.batchId),1)]),_:1}),e(i,{label:"租户ID"},{default:l(()=>[n(d(t.selectedChange.tenantId),1)]),_:1}),e(i,{label:"租户名称"},{default:l(()=>[n(d(t.selectedChange.tenantName),1)]),_:1}),e(i,{label:"划转时间"},{default:l(()=>[n(d(t.selectedChange.changeTime),1)]),_:1}),e(i,{label:"划转生效时间"},{default:l(()=>[n(d(t.selectedChange.effectiveTime),1)]),_:1}),e(i,{label:"商户ID"},{default:l(()=>[n(d(t.selectedChange.merchantId),1)]),_:1}),e(i,{label:"商户名称"},{default:l(()=>[n(d(t.selectedChange.merchantName),1)]),_:1}),e(i,{label:"原代理商"},{default:l(()=>[n(d(t.selectedChange.fromAgent),1)]),_:1}),e(i,{label:"新代理商"},{default:l(()=>[n(d(t.selectedChange.toAgent),1)]),_:1}),e(i,{label:"操作人"},{default:l(()=>[n(d(t.selectedChange.operator),1)]),_:1}),e(i,{label:"划转原因"},{default:l(()=>[n(d(t.selectedChange.reason),1)]),_:1}),e(i,{label:"备注"},{default:l(()=>[n(d(t.selectedChange.remark),1)]),_:1})]),_:1})])]),_:1},8,["modelValue","title","before-close"])])}const U=D(x,[["render",S],["__scopeId","data-v-6239aa9b"]]);export{U as default};
