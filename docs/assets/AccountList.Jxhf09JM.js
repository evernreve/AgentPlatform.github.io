import{_ as O,c as A,o as T,a as i,b as e,w as a,r as p,d as o,t as u,h as C,e as z,g as U}from"./index.CULuYW0h.js";const B={name:"AccountList",data(){return{filters:{keyword:"",accountOwnership:"",accountStatus:"",vaStatus:"",accountType:"",tenant:""},accountData:[{id:"ACC001",accountNumber:"6222021234567890123",accountName:"FORTUNE_BANK_USD",accountOwnership:"agent_self",agentName:"北京代理商有限公司",merchantName:"",bankName:"福兴银行",currency:"USD",accountStatus:"active",vaStatus:"approved",accountCategory:"VA账户",createTime:"2024-01-15 10:30:00",lastActivityTime:"2024-01-18 14:20:30",accountType:"usd_account",tenantName:"租户A",remark:"主要美元收款账户"},{id:"ACC002",accountNumber:"6225021234567890456",accountName:"DEUTSCHE_BANK_EUR",accountOwnership:"assigned_to_merchant",agentName:"上海拓展服务商",merchantName:"北京商贸有限公司",bankName:"德意志银行",currency:"EUR",accountStatus:"active",vaStatus:"pending",accountCategory:"虚拟账户",createTime:"2024-02-20 09:15:22",lastActivityTime:"2024-02-20 09:15:22",accountType:"eur_account",tenantName:"租户B",remark:"欧元收款专用账户"},{id:"ACC003",accountNumber:"6221021234567890678",accountName:"HSBC_HKD",accountOwnership:"agent_self",agentName:"广州合作伙伴",merchantName:"",bankName:"汇丰银行",currency:"HKD",accountStatus:"frozen",vaStatus:"rejected",accountCategory:"VCC卡",createTime:"2024-03-10 16:45:10",lastActivityTime:"2024-03-12 11:30:45",accountType:"hkd_account",tenantName:"租户C",remark:"港币收款账户"},{id:"ACC004",accountNumber:"6228481234567890345",accountName:"BANK_OF_CHINA_CNY",accountOwnership:"assigned_to_merchant",agentName:"深圳渠道商",merchantName:"上海贸易集团",bankName:"中国银行",currency:"CNY",accountStatus:"pending",vaStatus:"approved",accountCategory:"VA账户",createTime:"2024-04-05 13:20:30",lastActivityTime:"2024-04-05 13:20:30",accountType:"offshore_cny",tenantName:"租户A",remark:"离岸人民币账户"},{id:"ACC005",accountNumber:"6217001234567890123",accountName:"FORTUNE_BANK_USD",accountOwnership:"agent_self",agentName:"杭州分销商",merchantName:"",bankName:"福兴银行",currency:"USD",accountStatus:"active",vaStatus:"approved",accountCategory:"虚拟账户",createTime:"2024-05-12 08:45:20",lastActivityTime:"2024-05-15 10:15:30",accountType:"usd_account",tenantName:"租户E",remark:"备用美元账户"}],pagination:{currentPage:1,pageSize:10,total:5},detailDrawerVisible:!1,selectedAccount:{},showAccountTypeSelection:!1,selectedAccountTypeForCreation:""}},methods:{handleSearch(){console.log("搜索条件:",this.filters)},handleReset(){this.filters={keyword:"",accountOwnership:"",accountStatus:"",vaStatus:"",accountType:"",tenant:""}},handleExport(){this.$message.success("正在导出账户数据...")},handleBatchExport(){this.$message.success("正在批量导出账户数据...")},handleViewDetails(c){this.selectedAccount=c,this.detailDrawerVisible=!0},handleCloseDetail(){this.detailDrawerVisible=!1},handleAddAccount(){this.showAccountTypeSelection=!0},selectAccountType(c){this.selectedAccountTypeForCreation=c,this.showAccountTypeSelection=!1,c==="VA账户"?this.$router.push("/main/account/management"):this.$message.info(`${c} 功能暂未开放`)},cancelSelectAccountType(){this.showAccountTypeSelection=!1},handleSizeChange(c){this.pagination.pageSize=c},handleCurrentChange(c){this.pagination.currentPage=c},formatDate(c){if(!c)return"";const t=new Date(c);if(isNaN(t.getTime()))return c;const b=t.getFullYear(),v=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),h=String(t.getMinutes()).padStart(2,"0"),_=String(t.getSeconds()).padStart(2,"0");return`${b}-${v}-${l} ${s}:${h}:${_}`},maskAccountNumber(c){if(!c||c.length<8)return c;const t=c.substring(0,4),b=c.substring(c.length-4);return`${t}****${b}`},getOwnershipTagType(c){return{agent_self:"primary",assigned_to_merchant:"success"}[c]||"info"},getOwnershipLabel(c){return{agent_self:"代理商自用",assigned_to_merchant:"分配给商户"}[c]||c},getStatusTagType(c){return{active:"success",frozen:"danger",pending:"warning",rejected:"info"}[c]||"info"},getStatusLabel(c){return{active:"正常",frozen:"冻结",pending:"审核中",rejected:"审核失败"}[c]||c},getVaStatusTagType(c){return{approved:"success",pending:"warning",rejected:"danger"}[c]||"info"},getVaStatusLabel(c){return{approved:"已批准",pending:"待审核",rejected:"拒绝"}[c]||c},getAccountTypeLabel(c){return{usd_account:"美金账户",eur_account:"欧元账户",hkd_account:"港元账户",offshore_cny:"离岸人民币账户"}[c]||c},getAccountCategoryTagType(c){return{VA账户:"primary",虚拟账户:"success",VCC卡:"warning"}[c]||"info"}}},L={class:"account-list"},E={class:"table-header"},j={class:"info-group"},F={class:"info-item"},H={class:"info-item"},K={class:"info-item"},R={key:0,class:"info-item"},I={class:"info-group"},M={class:"info-item"},P={class:"info-item"},Y={class:"info-item"},q={class:"info-group"},G={class:"info-item"},J={class:"info-item"},Q={class:"info-group"},W={class:"info-item"},X={class:"info-item"},Z={class:"footer-actions"},$={class:"drawer-content"},ee={class:"account-type-selection"},te={class:"type-options"},ae={class:"dialog-footer"};function le(c,t,b,v,l,s){const h=p("el-input"),_=p("el-form-item"),r=p("el-option"),y=p("el-select"),m=p("el-button"),S=p("el-form"),N=p("el-card"),f=p("el-table-column"),g=p("el-tag"),w=p("el-table"),V=p("el-pagination"),d=p("el-descriptions-item"),k=p("el-descriptions"),D=p("el-drawer"),x=p("el-dialog");return T(),A("div",L,[t[22]||(t[22]=i("div",{class:"page-header"},[i("h3",null,"账户列表")],-1)),e(N,{class:"filter-card"},{default:a(()=>[e(S,{inline:!0,model:l.filters,class:"filter-form"},{default:a(()=>[e(_,{label:"关键词搜索"},{default:a(()=>[e(h,{modelValue:l.filters.keyword,"onUpdate:modelValue":t[0]||(t[0]=n=>l.filters.keyword=n),placeholder:"请输入代理商名称/ID、商户名称/ID、银行名称、账号",style:{width:"250px"},clearable:""},null,8,["modelValue"])]),_:1}),e(_,{label:"账户归属"},{default:a(()=>[e(y,{modelValue:l.filters.accountOwnership,"onUpdate:modelValue":t[1]||(t[1]=n=>l.filters.accountOwnership=n),placeholder:"全部",style:{width:"150px"},clearable:""},{default:a(()=>[e(r,{label:"全部",value:""}),e(r,{label:"代理商自用",value:"agent_self"}),e(r,{label:"分配给商户",value:"assigned_to_merchant"})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"账户状态"},{default:a(()=>[e(y,{modelValue:l.filters.accountStatus,"onUpdate:modelValue":t[2]||(t[2]=n=>l.filters.accountStatus=n),placeholder:"全部",style:{width:"120px"},clearable:""},{default:a(()=>[e(r,{label:"全部",value:""}),e(r,{label:"正常",value:"active"}),e(r,{label:"冻结",value:"frozen"}),e(r,{label:"审核中",value:"pending"}),e(r,{label:"审核失败",value:"rejected"})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"VA审核状态"},{default:a(()=>[e(y,{modelValue:l.filters.vaStatus,"onUpdate:modelValue":t[3]||(t[3]=n=>l.filters.vaStatus=n),placeholder:"全部",style:{width:"120px"},clearable:""},{default:a(()=>[e(r,{label:"全部",value:""}),e(r,{label:"已批准",value:"approved"}),e(r,{label:"待审核",value:"pending"}),e(r,{label:"拒绝",value:"rejected"})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"账户类型"},{default:a(()=>[e(y,{modelValue:l.filters.accountType,"onUpdate:modelValue":t[4]||(t[4]=n=>l.filters.accountType=n),placeholder:"全部",style:{width:"150px"},clearable:""},{default:a(()=>[e(r,{label:"全部",value:""}),e(r,{label:"美金账户",value:"usd_account"}),e(r,{label:"欧元账户",value:"eur_account"}),e(r,{label:"港元账户",value:"hkd_account"}),e(r,{label:"离岸人民币账户",value:"offshore_cny"})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"租户"},{default:a(()=>[e(y,{modelValue:l.filters.tenant,"onUpdate:modelValue":t[5]||(t[5]=n=>l.filters.tenant=n),placeholder:"全部租户",style:{width:"150px"},clearable:""},{default:a(()=>[e(r,{label:"全部租户",value:""}),e(r,{label:"租户A",value:"TNT001"}),e(r,{label:"租户B",value:"TNT002"}),e(r,{label:"租户C",value:"TNT003"})]),_:1},8,["modelValue"])]),_:1}),e(_,null,{default:a(()=>[e(m,{type:"primary",onClick:s.handleSearch},{default:a(()=>[...t[11]||(t[11]=[o("查询",-1)])]),_:1},8,["onClick"]),e(m,{onClick:s.handleReset},{default:a(()=>[...t[12]||(t[12]=[o("重置",-1)])]),_:1},8,["onClick"]),e(m,{onClick:s.handleExport},{default:a(()=>[...t[13]||(t[13]=[o("导出",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),i("div",E,[e(m,{type:"primary",onClick:s.handleAddAccount},{default:a(()=>[...t[14]||(t[14]=[o("新增账户",-1)])]),_:1},8,["onClick"])]),e(w,{data:l.accountData,style:{width:"100%"},stripe:""},{default:a(()=>[e(f,{prop:"accountNumber",label:"账号",width:"200"},{default:a(({row:n})=>[o(u(s.maskAccountNumber(n.accountNumber)),1)]),_:1}),e(f,{label:"归属信息",width:"250"},{default:a(({row:n})=>[i("div",j,[i("div",F,[i("strong",null,u(n.accountName),1)]),i("div",H,[e(g,{type:s.getOwnershipTagType(n.accountOwnership)},{default:a(()=>[o(u(s.getOwnershipLabel(n.accountOwnership)),1)]),_:2},1032,["type"])]),i("div",K,"代理商: "+u(n.agentName),1),n.merchantName?(T(),A("div",R,"商户: "+u(n.merchantName),1)):C("",!0)])]),_:1}),e(f,{label:"账户详情",width:"250"},{default:a(({row:n})=>[i("div",I,[i("div",M,"银行: "+u(n.bankName),1),i("div",P,[e(g,{type:"info"},{default:a(()=>[o(u(n.currency),1)]),_:2},1024)]),i("div",Y,[e(g,{type:s.getAccountCategoryTagType(n.accountCategory)},{default:a(()=>[o(u(n.accountCategory),1)]),_:2},1032,["type"])])])]),_:1}),e(f,{label:"状态信息",width:"200"},{default:a(({row:n})=>[i("div",q,[i("div",G,[e(g,{type:s.getStatusTagType(n.accountStatus)},{default:a(()=>[o(u(s.getStatusLabel(n.accountStatus)),1)]),_:2},1032,["type"])]),i("div",J,[e(g,{type:s.getVaStatusTagType(n.vaStatus)},{default:a(()=>[o(u(s.getVaStatusLabel(n.vaStatus)),1)]),_:2},1032,["type"])])])]),_:1}),e(f,{label:"时间信息",width:"200"},{default:a(({row:n})=>[i("div",Q,[i("div",W,"创建: "+u(s.formatDate(n.createTime)),1),i("div",X,"最后活动: "+u(s.formatDate(n.lastActivityTime)),1)])]),_:1}),e(f,{label:"操作",width:"120"},{default:a(({row:n})=>[e(m,{size:"small",type:"primary",onClick:z(ne=>s.handleViewDetails(n),["stop"])},{default:a(()=>[...t[15]||(t[15]=[o("查看详情",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),i("div",Z,[e(m,{onClick:s.handleBatchExport},{default:a(()=>[...t[16]||(t[16]=[o("批量导出",-1)])]),_:1},8,["onClick"]),e(V,{class:"pagination",onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange,"current-page":l.pagination.currentPage,"page-sizes":[10,20,50,100],"page-size":l.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:l.pagination.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),e(D,{modelValue:l.detailDrawerVisible,"onUpdate:modelValue":t[6]||(t[6]=n=>l.detailDrawerVisible=n),size:"60%",title:`账户详情 - ${l.selectedAccount.accountNumber}`,direction:"rtl","before-close":s.handleCloseDetail},{default:a(()=>[i("div",$,[e(k,{column:1,border:"","label-width":150},{default:a(()=>[e(d,{label:"账号"},{default:a(()=>[o(u(l.selectedAccount.accountNumber),1)]),_:1}),e(d,{label:"账户名称"},{default:a(()=>[o(u(l.selectedAccount.accountName),1)]),_:1}),e(d,{label:"账户归属"},{default:a(()=>[e(g,{type:s.getOwnershipTagType(l.selectedAccount.accountOwnership)},{default:a(()=>[o(u(s.getOwnershipLabel(l.selectedAccount.accountOwnership)),1)]),_:1},8,["type"])]),_:1}),e(d,{label:"所属代理商"},{default:a(()=>[o(u(l.selectedAccount.agentName),1)]),_:1}),l.selectedAccount.merchantName?(T(),U(d,{key:0,label:"所属商户"},{default:a(()=>[o(u(l.selectedAccount.merchantName),1)]),_:1})):C("",!0),e(d,{label:"开户银行"},{default:a(()=>[o(u(l.selectedAccount.bankName),1)]),_:1}),e(d,{label:"账户币种"},{default:a(()=>[e(g,{type:"info"},{default:a(()=>[o(u(l.selectedAccount.currency),1)]),_:1})]),_:1}),e(d,{label:"账户状态"},{default:a(()=>[e(g,{type:s.getStatusTagType(l.selectedAccount.accountStatus)},{default:a(()=>[o(u(s.getStatusLabel(l.selectedAccount.accountStatus)),1)]),_:1},8,["type"])]),_:1}),e(d,{label:"审核状态"},{default:a(()=>[e(g,{type:s.getVaStatusTagType(l.selectedAccount.vaStatus)},{default:a(()=>[o(u(s.getVaStatusLabel(l.selectedAccount.vaStatus)),1)]),_:1},8,["type"])]),_:1}),e(d,{label:"创建时间"},{default:a(()=>[o(u(s.formatDate(l.selectedAccount.createTime)),1)]),_:1}),e(d,{label:"最后活动时间"},{default:a(()=>[o(u(s.formatDate(l.selectedAccount.lastActivityTime)),1)]),_:1}),e(d,{label:"账户类别"},{default:a(()=>[e(g,{type:s.getAccountCategoryTagType(l.selectedAccount.accountCategory)},{default:a(()=>[o(u(l.selectedAccount.accountCategory),1)]),_:1},8,["type"])]),_:1}),e(d,{label:"账户类型"},{default:a(()=>[o(u(s.getAccountTypeLabel(l.selectedAccount.accountType)),1)]),_:1}),e(d,{label:"租户"},{default:a(()=>[o(u(l.selectedAccount.tenantName),1)]),_:1}),e(d,{label:"备注"},{default:a(()=>[o(u(l.selectedAccount.remark||"无"),1)]),_:1})]),_:1})])]),_:1},8,["modelValue","title","before-close"]),e(x,{modelValue:l.showAccountTypeSelection,"onUpdate:modelValue":t[10]||(t[10]=n=>l.showAccountTypeSelection=n),title:"选择账户类型",width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:a(()=>[i("span",ae,[e(m,{onClick:s.cancelSelectAccountType},{default:a(()=>[...t[21]||(t[21]=[o("取消",-1)])]),_:1},8,["onClick"])])]),default:a(()=>[i("div",ee,[t[20]||(t[20]=i("p",{style:{"text-align":"center","margin-bottom":"30px"}},"请选择要创建的账户类型",-1)),i("div",te,[e(m,{type:"primary",plain:"",size:"large",onClick:t[7]||(t[7]=n=>s.selectAccountType("VA账户")),style:{width:"150px",margin:"0 10px"}},{default:a(()=>[...t[17]||(t[17]=[o(" VA账户 ",-1)])]),_:1}),e(m,{type:"success",plain:"",size:"large",onClick:t[8]||(t[8]=n=>s.selectAccountType("虚拟账户")),style:{width:"150px",margin:"0 10px"}},{default:a(()=>[...t[18]||(t[18]=[o(" 虚拟账户 ",-1)])]),_:1}),e(m,{type:"warning",plain:"",size:"large",onClick:t[9]||(t[9]=n=>s.selectAccountType("VCC卡")),style:{width:"150px",margin:"0 10px"}},{default:a(()=>[...t[19]||(t[19]=[o(" VCC卡 ",-1)])]),_:1})])])]),_:1},8,["modelValue"])])}const se=O(B,[["render",le],["__scopeId","data-v-053f77aa"]]);export{se as default};
