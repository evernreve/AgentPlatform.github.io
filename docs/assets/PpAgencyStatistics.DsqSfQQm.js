import{_ as S,c as T,o as b,a as s,b as e,w as l,r as o,t as d,d as u,F as x,f as V}from"./index.DkWATejZ.js";const z={name:"PpAgencyStatistics",data(){return{filters:{agencyName:"",agencyType:"",productName:"",status:""},agencyList:[{id:"AGY001",agencyName:"IPL集团",agencyType:"institution",agencyIdentifier:"AGT001",products:[{id:"PROD001",name:"国际交易分佣产品"},{id:"PROD002",name:"汇率返点产品"}],status:"active",agencyTime:"2024-01-15",startTime:"2024-01-15 00:00:00",endTime:"2025-01-15 23:59:59"},{id:"AGY002",agencyName:"EX有限公司",agencyType:"sa",agencyIdentifier:"AGT002",products:[{id:"PROD003",name:"汇率返点产品"}],status:"active",agencyTime:"2024-02-20",startTime:"2024-02-20 00:00:00",endTime:"2025-02-20 23:59:59"},{id:"AGY003",agencyName:"BB科技",agencyType:"normal",agencyIdentifier:"AGT003",products:[{id:"PROD004",name:"跨境支付分佣"},{id:"PROD005",name:"海外支付产品"}],status:"inactive",agencyTime:"2024-03-10",startTime:"2024-03-10 00:00:00",endTime:"2025-03-10 23:59:59"},{id:"AGY004",agencyName:"KUN金融",agencyType:"institution",agencyIdentifier:"AGT004",products:[{id:"PROD007",name:"海外支付产品"}],status:"expired",agencyTime:"2024-04-05",startTime:"2024-04-05 00:00:00",endTime:"2024-10-05 23:59:59"},{id:"AGY005",agencyName:"PP2企业",agencyType:"normal",agencyIdentifier:"AGT005",products:[{id:"PROD008",name:"跨境电商支付产品"},{id:"PROD009",name:"技术服务产品"}],status:"active",agencyTime:"2024-05-12",startTime:"2024-05-12 00:00:00",endTime:"2025-05-12 23:59:59"}],pagination:{currentPage:1,pageSize:10,total:0}}},computed:{filteredAgencyList(){let a=this.agencyList;return this.filters.agencyName&&(a=a.filter(t=>t.agencyName.toLowerCase().includes(this.filters.agencyName.toLowerCase()))),this.filters.agencyType&&(a=a.filter(t=>t.agencyType===this.filters.agencyType)),this.filters.productName&&(a=a.filter(t=>t.products.some(v=>v.name.toLowerCase().includes(this.filters.productName.toLowerCase())))),this.filters.status&&(a=a.filter(t=>t.status===this.filters.status)),a},totalAgencies(){return this.agencyList.length},activeAgencies(){return this.agencyList.filter(a=>a.status==="active").length},institutionAgencies(){return this.agencyList.filter(a=>a.agencyType==="institution").length},saAgencies(){return this.agencyList.filter(a=>a.agencyType==="sa").length}},mounted(){this.pagination.total=this.filteredAgencyList.length},methods:{handleSearch(){console.log("搜索条件:",this.filters),this.pagination.currentPage=1,this.pagination.total=this.filteredAgencyList.length},handleReset(){this.filters={agencyName:"",agencyType:"",productName:"",status:""},this.pagination.total=this.filteredAgencyList.length},handleSizeChange(a){this.pagination.pageSize=a,this.pagination.currentPage=1},handleCurrentChange(a){this.pagination.currentPage=a},handleRowClick(a){console.log("行点击:",a)},handleViewDetails(a){this.$router.push(`/main/monitor/pp-agency-overview/detail/${a.id}`)},getAgencyTypeTagType(a){return{institution:"primary",normal:"success",sa:"warning"}[a]||"info"},getAgencyTypeLabel(a){return{institution:"机构代理",normal:"普通代理",sa:"SA总代"}[a]||a},getStatusTagType(a){return{active:"success",inactive:"info",expired:"danger"}[a]||"info"},getStatusLabel(a){return{active:"激活",inactive:"未激活",expired:"已过期"}[a]||a}}},R={class:"pp-agency-statistics"},k={class:"stat-content"},D={class:"stat-number"},G={class:"stat-content"},I={class:"stat-number",style:{color:"#67C23A"}},M={class:"stat-content"},O={class:"stat-number",style:{color:"#409EFF"}},B={class:"stat-content"},E={class:"stat-number",style:{color:"#E6A23C"}};function U(a,t,v,Y,r,i){const g=o("el-card"),y=o("el-col"),w=o("el-row"),A=o("el-input"),m=o("el-form-item"),p=o("el-option"),C=o("el-select"),f=o("el-button"),P=o("el-form"),c=o("el-table-column"),_=o("el-tag"),N=o("el-table"),L=o("el-pagination");return b(),T("div",R,[t[11]||(t[11]=s("div",{class:"page-header"},[s("h3",null,"PP代理总览")],-1)),t[12]||(t[12]=s("div",{class:"page-tip"}," 查询代理关系里面被代理方为该PP下的的所有的信息，机构代理指的是代理方为TP，普通代理指的是代理方为AP，SA总代指的是代理方为EX ",-1)),e(w,{gutter:20,style:{"margin-bottom":"20px"}},{default:l(()=>[e(y,{span:6},{default:l(()=>[e(g,{class:"stat-card"},{default:l(()=>[s("div",k,[s("div",D,d(i.totalAgencies),1),t[4]||(t[4]=s("div",{class:"stat-label"},"总代理数",-1))])]),_:1})]),_:1}),e(y,{span:6},{default:l(()=>[e(g,{class:"stat-card"},{default:l(()=>[s("div",G,[s("div",I,d(i.activeAgencies),1),t[5]||(t[5]=s("div",{class:"stat-label"},"活跃代理",-1))])]),_:1})]),_:1}),e(y,{span:6},{default:l(()=>[e(g,{class:"stat-card"},{default:l(()=>[s("div",M,[s("div",O,d(i.institutionAgencies),1),t[6]||(t[6]=s("div",{class:"stat-label"},"机构代理",-1))])]),_:1})]),_:1}),e(y,{span:6},{default:l(()=>[e(g,{class:"stat-card"},{default:l(()=>[s("div",B,[s("div",E,d(i.saAgencies),1),t[7]||(t[7]=s("div",{class:"stat-label"},"SA总代",-1))])]),_:1})]),_:1})]),_:1}),e(g,{class:"filter-card"},{default:l(()=>[e(P,{inline:!0,model:r.filters,class:"filter-form"},{default:l(()=>[e(m,{label:"代理方名称"},{default:l(()=>[e(A,{modelValue:r.filters.agencyName,"onUpdate:modelValue":t[0]||(t[0]=n=>r.filters.agencyName=n),placeholder:"请输入代理方名称",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(m,{label:"代理方类型"},{default:l(()=>[e(C,{modelValue:r.filters.agencyType,"onUpdate:modelValue":t[1]||(t[1]=n=>r.filters.agencyType=n),placeholder:"请选择代理类型",style:{width:"150px"},clearable:""},{default:l(()=>[e(p,{label:"机构代理",value:"institution"}),e(p,{label:"普通代理",value:"normal"}),e(p,{label:"SA总代",value:"sa"})]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"代理产品"},{default:l(()=>[e(A,{modelValue:r.filters.productName,"onUpdate:modelValue":t[2]||(t[2]=n=>r.filters.productName=n),placeholder:"请输入产品名称",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(m,{label:"状态"},{default:l(()=>[e(C,{modelValue:r.filters.status,"onUpdate:modelValue":t[3]||(t[3]=n=>r.filters.status=n),placeholder:"请选择状态",style:{width:"120px"},clearable:""},{default:l(()=>[e(p,{label:"激活",value:"active"}),e(p,{label:"未激活",value:"inactive"}),e(p,{label:"已过期",value:"expired"})]),_:1},8,["modelValue"])]),_:1}),e(m,null,{default:l(()=>[e(f,{type:"primary",onClick:i.handleSearch},{default:l(()=>[...t[8]||(t[8]=[u("搜索",-1)])]),_:1},8,["onClick"]),e(f,{onClick:i.handleReset},{default:l(()=>[...t[9]||(t[9]=[u("重置",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),e(N,{data:i.filteredAgencyList,style:{width:"100%"},stripe:"",onRowClick:i.handleRowClick},{default:l(()=>[e(c,{prop:"agencyName",label:"代理方名称",width:"150"}),e(c,{prop:"agencyType",label:"代理方类型",width:"120"},{default:l(({row:n})=>[e(_,{type:i.getAgencyTypeTagType(n.agencyType),size:"small"},{default:l(()=>[u(d(i.getAgencyTypeLabel(n.agencyType)),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"agencyIdentifier",label:"代理方标识",width:"150"}),e(c,{prop:"products",label:"代理产品","min-width":"200"},{default:l(({row:n})=>[(b(!0),T(x,null,V(n.products,h=>(b(),T("div",{key:h.id,class:"product-item"},[e(_,{size:"small",style:{"margin-right":"5px","margin-bottom":"5px"}},{default:l(()=>[u(d(h.name),1)]),_:2},1024)]))),128))]),_:1}),e(c,{prop:"status",label:"状态",width:"100"},{default:l(({row:n})=>[e(_,{type:i.getStatusTagType(n.status),size:"small"},{default:l(()=>[u(d(i.getStatusLabel(n.status)),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"agencyTime",label:"代理时间",width:"120"}),e(c,{prop:"startTime",label:"代理开始时间",width:"150"}),e(c,{prop:"endTime",label:"代理结束时间",width:"150"}),e(c,{label:"操作",width:"100"},{default:l(({row:n})=>[e(f,{size:"small",type:"primary",onClick:h=>i.handleViewDetails(n)},{default:l(()=>[...t[10]||(t[10]=[u(" 查看详情 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data","onRowClick"]),e(L,{class:"pagination",onSizeChange:i.handleSizeChange,onCurrentChange:i.handleCurrentChange,"current-page":r.pagination.currentPage,"page-sizes":[10,20,50],"page-size":r.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:i.filteredAgencyList.length},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])}const X=S(z,[["render",U],["__scopeId","data-v-15ca03ac"]]);export{X as default};
